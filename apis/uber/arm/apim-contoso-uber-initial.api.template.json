{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "ApimServiceName": {
      "type": "string"
    }
  },
  "resources": [
    {
      "properties": {
        "path": "uber",
        "value": "{\n    \"swagger\": \"2.0\",\n    \"info\": {\n      \"title\": \"Uber API\",\n      \"description\": \"Move your app forward with the Uber API\",\n      \"version\": \"1.0.0\"\n    },\n    \"host\": \"api.uber.com\",\n    \"schemes\": [\n      \"https\"\n    ],\n    \"basePath\": \"/v1\",\n    \"produces\": [\n      \"application/json\"\n    ],\n    \"paths\": {\n      \"/products\": {\n        \"get\": {\n          \"summary\": \"Product Types\",\n          \"description\": \"The Products endpoint returns information about the Uber products offered at a given location. The response includes the display name and other details about each product, and lists the products in the proper display order.\",\n          \"parameters\": [\n            {\n              \"name\": \"latitude\",\n              \"in\": \"query\",\n              \"description\": \"Latitude component of location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"longitude\",\n              \"in\": \"query\",\n              \"description\": \"Longitude component of location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            }\n          ],\n          \"tags\": [\n            \"Products\"\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"An array of products\",\n              \"schema\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"$ref\": \"#/definitions/Product\"\n                }\n              }\n            },\n            \"default\": {\n              \"description\": \"Unexpected error\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Error\"\n              }\n            }\n          }\n        }\n      },\n      \"/estimates/price\": {\n        \"get\": {\n          \"summary\": \"Price Estimates\",\n          \"description\": \"The Price Estimates endpoint returns an estimated price range for each product offered at a given location. The price estimate is provided as a formatted string with the full price range and the localized currency symbol.<br><br>The response also includes low and high estimates, and the [ISO 4217](http://en.wikipedia.org/wiki/ISO_4217) currency code for situations requiring currency conversion. When surge is active for a particular product, its surge_multiplier will be greater than 1, but the price estimate already factors in this multiplier.\",\n          \"parameters\": [\n            {\n              \"name\": \"start_latitude\",\n              \"in\": \"query\",\n              \"description\": \"Latitude component of start location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"start_longitude\",\n              \"in\": \"query\",\n              \"description\": \"Longitude component of start location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"end_latitude\",\n              \"in\": \"query\",\n              \"description\": \"Latitude component of end location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"end_longitude\",\n              \"in\": \"query\",\n              \"description\": \"Longitude component of end location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            }\n          ],\n          \"tags\": [\n            \"Estimates\"\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"An array of price estimates by product\",\n              \"schema\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"$ref\": \"#/definitions/PriceEstimate\"\n                }\n              }\n            },\n            \"default\": {\n              \"description\": \"Unexpected error\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Error\"\n              }\n            }\n          }\n        }\n      },\n      \"/estimates/time\": {\n        \"get\": {\n          \"summary\": \"Time Estimates\",\n          \"description\": \"The Time Estimates endpoint returns ETAs for all products offered at a given location, with the responses expressed as integers in seconds. We recommend that this endpoint be called every minute to provide the most accurate, up-to-date ETAs.\",\n          \"parameters\": [\n            {\n              \"name\": \"start_latitude\",\n              \"in\": \"query\",\n              \"description\": \"Latitude component of start location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"start_longitude\",\n              \"in\": \"query\",\n              \"description\": \"Longitude component of start location.\",\n              \"required\": true,\n              \"type\": \"number\",\n              \"format\": \"double\"\n            },\n            {\n              \"name\": \"customer_uuid\",\n              \"in\": \"query\",\n              \"type\": \"string\",\n              \"format\": \"uuid\",\n              \"description\": \"Unique customer identifier to be used for experience customization.\"\n            },\n            {\n              \"name\": \"product_id\",\n              \"in\": \"query\",\n              \"type\": \"string\",\n              \"description\": \"Unique identifier representing a specific product for a given latitude & longitude.\"\n            }\n          ],\n          \"tags\": [\n            \"Estimates\"\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"An array of products\",\n              \"schema\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"$ref\": \"#/definitions/Product\"\n                }\n              }\n            },\n            \"default\": {\n              \"description\": \"Unexpected error\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Error\"\n              }\n            }\n          }\n        }\n      },\n      \"/me\": {\n        \"get\": {\n          \"summary\": \"User Profile\",\n          \"description\": \"The User Profile endpoint returns information about the Uber user that has authorized with the application.\",\n          \"tags\": [\n            \"User\"\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Profile information for a user\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Profile\"\n              }\n            },\n            \"default\": {\n              \"description\": \"Unexpected error\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Error\"\n              }\n            }\n          }\n        }\n      },\n      \"/history\": {\n        \"get\": {\n          \"summary\": \"User Activity\",\n          \"description\": \"The User Activity endpoint returns data about a user's lifetime activity with Uber. The response will include pickup locations and times, dropoff locations and times, the distance of past requests, and information about which products were requested.<br><br>The history array in the response will have a maximum length based on the limit parameter. The response value count may exceed limit, therefore subsequent API requests may be necessary.\",\n          \"parameters\": [\n            {\n              \"name\": \"offset\",\n              \"in\": \"query\",\n              \"type\": \"integer\",\n              \"format\": \"int32\",\n              \"description\": \"Offset the list of returned results by this amount. Default is zero.\"\n            },\n            {\n              \"name\": \"limit\",\n              \"in\": \"query\",\n              \"type\": \"integer\",\n              \"format\": \"int32\",\n              \"description\": \"Number of items to retrieve. Default is 5, maximum is 100.\"\n            }\n          ],\n          \"tags\": [\n            \"User\"\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"History information for the given user\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Activities\"\n              }\n            },\n            \"default\": {\n              \"description\": \"Unexpected error\",\n              \"schema\": {\n                \"$ref\": \"#/definitions/Error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"definitions\": {\n      \"Product\": {\n        \"properties\": {\n          \"product_id\": {\n            \"type\": \"string\",\n            \"description\": \"Unique identifier representing a specific product for a given latitude & longitude. For example, uberX in San Francisco will have a different product_id than uberX in Los Angeles.\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description of product.\"\n          },\n          \"display_name\": {\n            \"type\": \"string\",\n            \"description\": \"Display name of product.\"\n          },\n          \"capacity\": {\n            \"type\": \"string\",\n            \"description\": \"Capacity of product. For example, 4 people.\"\n          },\n          \"image\": {\n            \"type\": \"string\",\n            \"description\": \"Image URL representing the product.\"\n          }\n        }\n      },\n      \"PriceEstimate\": {\n        \"properties\": {\n          \"product_id\": {\n            \"type\": \"string\",\n            \"description\": \"Unique identifier representing a specific product for a given latitude & longitude. For example, uberX in San Francisco will have a different product_id than uberX in Los Angeles\"\n          },\n          \"currency_code\": {\n            \"type\": \"string\",\n            \"description\": \"[ISO 4217](http://en.wikipedia.org/wiki/ISO_4217) currency code.\"\n          },\n          \"display_name\": {\n            \"type\": \"string\",\n            \"description\": \"Display name of product.\"\n          },\n          \"estimate\": {\n            \"type\": \"string\",\n            \"description\": \"Formatted string of estimate in local currency of the start location. Estimate could be a range, a single number (flat rate) or \\\"Metered\\\" for TAXI.\"\n          },\n          \"low_estimate\": {\n            \"type\": \"number\",\n            \"description\": \"Lower bound of the estimated price.\"\n          },\n          \"high_estimate\": {\n            \"type\": \"number\",\n            \"description\": \"Upper bound of the estimated price.\"\n          },\n          \"surge_multiplier\": {\n            \"type\": \"number\",\n            \"description\": \"Expected surge multiplier. Surge is active if surge_multiplier is greater than 1. Price estimate already factors in the surge multiplier.\"\n          }\n        }\n      },\n      \"Profile\": {\n        \"properties\": {\n          \"first_name\": {\n            \"type\": \"string\",\n            \"description\": \"First name of the Uber user.\"\n          },\n          \"last_name\": {\n            \"type\": \"string\",\n            \"description\": \"Last name of the Uber user.\"\n          },\n          \"email\": {\n            \"type\": \"string\",\n            \"description\": \"Email address of the Uber user\"\n          },\n          \"picture\": {\n            \"type\": \"string\",\n            \"description\": \"Image URL of the Uber user.\"\n          },\n          \"promo_code\": {\n            \"type\": \"string\",\n            \"description\": \"Promo code of the Uber user.\"\n          }\n        }\n      },\n      \"Activity\": {\n        \"properties\": {\n          \"uuid\": {\n            \"type\": \"string\",\n            \"description\": \"Unique identifier for the activity\"\n          }\n        }\n      },\n      \"Activities\": {\n        \"properties\": {\n          \"offset\": {\n            \"type\": \"integer\",\n            \"format\": \"int32\",\n            \"description\": \"Position in pagination.\"\n          },\n          \"limit\": {\n            \"type\": \"integer\",\n            \"format\": \"int32\",\n            \"description\": \"Number of items to retrieve (100 max).\"\n          },\n          \"count\": {\n            \"type\": \"integer\",\n            \"format\": \"int32\",\n            \"description\": \"Total number of items available.\"\n          },\n          \"history\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"$ref\": \"#/definitions/Activity\"\n             }\n          }\n        }\n      },\n      \"Error\": {\n        \"properties\": {\n          \"code\": {\n            \"type\": \"integer\",\n            \"format\": \"int32\"\n          },\n          \"message\": {\n            \"type\": \"string\"\n          },\n          \"fields\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }",
        "format": "swagger-json"
      },
      "name": "[concat(parameters('ApimServiceName'), '/uber')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2019-01-01",
      "dependsOn": []
    }
  ]
}